# vim: ft=zsh sw=4 ts=4

# cd previous directory (Alt+Left)
cdPrevDir() {
  popd &>/dev/null
  zle reset-prompt
  echo -e "\n\e[30m$(pwd)\e[0m"
  zle reset-prompt
}; zle -N cdPrevDir; bindkey '^[[1;3D' cdPrevDir

# cd parent directory (Alt+Up)
cdParentDir() {
  pushd .. &>/dev/null
  zle reset-prompt
  echo -e "\n\e[30m$(pwd)\e[0m"
  zle reset-prompt
}; zle -N cdParentDir; bindkey '^[[1;3A' cdParentDir

# Sort by line length
sort_len() {
	awk '{print length, $0 }' | sort -nsr | cut -d" " -f2-
}
# rnb outputs a random byte
rnb() {
	echo $((RANDOM % 255))
}

# cprt <msg> [<sym>,<sym_color>,<msg_color>]
cout() {
	local sym=$(echo -ne "$(d2u $((0xf000 + RANDOM % 0xfff)))")
	printf " \e[38;5;%dm${sym}\e[0m | \e[38;5;%dm%s\e[0m\n" \
		"${3:-$((RANDOM % 0xff))}" "${4:-$((RANDOM % 0xff))}" "${1:-msg}"
}

isint() {
	for i in "$@"; do
			egrep -q '^\-?[0-9A-Fa-f]+$' <<< $i || return 1
	done

	return 0
}

h2d() {
	local buf
	for i in "$@"; do
		buf="${buf} $(echo "ibase=16; ${i}" | bc)"
	done
}

rgb() {
	local _r=$1
	local _g=$2
	local _b=$3

	if [[ $_r =~ '^-(-?)(clr|clear|stop|0)$' ]]; then
		echo -ne "\e[0m"
		return 0
	fi

	if [[ -z $_g && -z $_b ]]; then
		if [[ ${_r} =~ '^\#[0-9A-Fa-f]+' ]]; then
			echo "html color"
			return 0
		fi
	fi

	echo -en "\e[38;2;${_r};${_g};${_b}m"
	return 0
}

# spinrun<msg> <command>
spinrun() {
	msg="${1:-Say what?}"
	cmd="${2}"
	delay=0.15

	declare -a spinner=(âœ• âœ– âœ— âœ˜ âœ™ âœš âœ› âœœ âœ âœ âœŸ âœ  âœ¡ âœ¢ âœ£ âœ¤ âœ¥ âœ¦ âœ§ â˜… âœ© âœª âœ« âœ¬ âœ­ âœ® âœ¯ âœ° âœ± âœ² âœ³ âœ´ âœµ âœ¶ âœ· âœ¸ âœ¹ âœº âœ» âœ¼ âœ½ âœ¾ âœ¿ â€ â â‚ âƒ â„ â… â† â‡ âˆ â‰ âŠ â‹ â— â)
   
	zmodload zsh/parameter

	if [[ -n "$cmd" ]]; then
		eval "${cmd}" &
	fi

	elapsed=0.0
	while (( ${#jobstates} )); do
		for ((i=1;i<=${#spinner[@]};i++)); do
			spn="\e[3$((RANDOM % 8))m${spinner[$i]}\e[0m   "
			echo -ne "\r $spn \e[0m $msg"
			sleep ${delay}
			elapsed=$((elapsed+delay))
		done
	done
}

say() { echo -ne " \e[34;3m:\e[0m\e[2m:\e[0m\e[34m:\e[0m $*\n"; }
function meatsword() {
	toilet --rainbow "Here! Take my sword"
	PURE_PROMPT_SYMBOL="ğ“‚¸  "
	prompt pure
}

dingbat() {
	cat <<-EOF
		âœ 	âœ‚ 	âœƒ 	âœ„ 	âœ… 	âœ† 	âœ‡ 	âœˆ 	âœ‰ 	â˜› 	â˜ 	âœŒ 	âœ 	âœ 	âœ
	âœ 	âœ‘ 	âœ’ 	âœ“ 	âœ” 	âœ• 	âœ– 	âœ— 	âœ˜ 	âœ™ 	âœš 	âœ› 	âœœ 	âœ 	âœ 	âœŸ
	âœ  	âœ¡ 	âœ¢ 	âœ£ 	âœ¤ 	âœ¥ 	âœ¦ 	âœ§ 	â˜… 	âœ© 	âœª 	âœ« 	âœ¬ 	âœ­ 	âœ® 	âœ¯
	âœ° 	âœ± 	âœ² 	âœ³ 	âœ´ 	âœµ 	âœ¶ 	âœ· 	âœ¸ 	âœ¹ 	âœº 	âœ» 	âœ¼ 	âœ½ 	âœ¾ 	âœ¿
	â€ 	â 	â‚ 	âƒ 	â„ 	â… 	â† 	â‡ 	âˆ 	â‰ 	âŠ 	â‹ 	â— 	â 	â–  	â
	â˜º 	â˜» 	â™¥ 	â™¦ 	â™£ 	â™  	â€¢ 	â—˜ 	â—‹ 	â 	â‘ 	â’ 	â–² 	â–¼ 	â—† 	â–
	â—— 	â˜ 	â™ 	âš 	â› 	âœ 	â 	â
	EOF
}

sym() {
	cat <<-EOF
	â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
	â”‚ â†    âŸ³   â†’    term://symbols.sh                                              á¤á ƒá ƒ â–¼ â˜…         Î ğŸ˜¾ âš  ê“¿â”‚
	â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
	â”‚â¤  âœ“  â˜€  â˜‚  â™  â˜¯  â˜­  â˜¢  âšœ  âœ¥  âœ¤  âœ»  âœ¼  âœ½  âœ¾  â€  ğŸš‡  ğŸš  ğŸš‘  ğŸš”  ğŸš˜  ğŸš²  ğŸš­  Â©                          â”‚
	â”‚â‚¬  â˜  â„  â™«  â‚½  â˜…  â˜†  âš  âœ¿  â  âƒ  â‡  âˆ  â‰  âŠ  â‹  Î£  Â±  Ã·  â‰   âˆš  Â²  Â³  Â¼  Â½  Â¾  â…™  â…›  â…•  Â®               â”‚
	â”‚Ù­  â€¢  Â°  â˜º  â˜»  ğŸš¹ ğŸšº  ğŸš¼  âš˜  â•  ê™®  ê•¤  ê•¥  â˜˜  áª¥  â™€  â™‚  âŒ˜  â™»  âš¢  âš£  â„…  â„  â…  â„¢                            â”‚
	â”‚â™   â™¤  â™¥  â™¡  â™£  â™§  â™¦  â™¢    â™¡  â™¥  â¦  â§  â˜™  â¥  â£  â™¡                                                       â”‚
	â”‚â‚¬  Â£  $  Æ’  Å  Â¢  â‚¿  â‚¿  â™¥  â¤  â³  áƒ¦                                                                     â”‚
	â”‚â˜¹  ğŸ˜€  ğŸ˜  ğŸ˜‚  ğŸ˜ƒ  ğŸ˜„  ğŸ˜…  ğŸ˜†  ğŸ˜ˆ  ğŸ˜‰  ğŸ˜Š  ğŸ˜‹  ğŸ˜Œ  ğŸ˜  ğŸ˜  ğŸ˜                                          â”‚
	â”‚ğŸ˜‘  ğŸ˜’  ğŸ˜“  ğŸ˜”  ğŸ˜•  ğŸ˜–  ğŸ˜—  ğŸ˜˜  ğŸ˜š  ğŸ˜›  ğŸ˜œ  ğŸ˜  ğŸ˜  ğŸ˜Ÿ  ğŸ˜   ğŸ˜¡                                         â”‚
	â”‚ğŸ˜£  ğŸ˜¥  ğŸ˜¦  ğŸ˜§  ğŸ˜¨  ğŸ˜©  ğŸ˜ª  ğŸ˜«  ğŸ˜­  ğŸ˜®  ğŸ˜¯  ğŸ˜°  ğŸ˜±  ğŸ˜²  ğŸ˜³  ğŸ˜´                                         â”‚
	â”‚ğŸ˜¶  ğŸ˜·  ğŸ˜‡  ğŸ˜  ğŸ˜™  ğŸ˜¢  ğŸ˜µ  ğŸ˜¹  ğŸ˜º  ğŸ˜»  ğŸ˜¼  ğŸ˜½  ğŸ˜¿  ğŸ™€  ğŸ˜¾                                             â”‚
	â”‚Î‘  Î’  Î“  Î”  Î•  Î–  Î—  Î˜  Î™  Îš  Î›  Îœ  Î  Î  ÎŸ  Î                                                          â”‚
	â”‚Î¡  Î£  Î¤  Î¥  Î¦  Î§  Î¨  Î©  Î±  Î²  Î³  Î´  Îµ  Î¶  Î·  Î¸                                                         â”‚
	â”‚Î¹  Îº  Î»  Î¼  Î½  Î¾  Î¿  Ï€  Ï  Ï‚  Ïƒ  Ï„  Ï…  Ï†  Ï‡  Ïˆ  Ï‰                                                      â”‚
	â”‚â…   â…¡  â…¢  â…£  â…¤  â…¥  â…¦  â…§  áš€  Â«  â€¹  Â»  .  à¥¤  Ö‰  ã€‚  Û”  â³¹  Ü  á¢  á™®  á ƒ  â³¾  ê“¿                                â”‚
	â”‚â…¨  â…©  â…ª  â…«  â…¬  â…­  â…®  â…¯  ê˜  ê›³  à ½  á­Ÿ  ,  ØŒ  ã€  Õ  ß¸  á£  á ˆ  ê“¾  ê˜  ê›µ  á­  ?                                â”‚
	â”‚â†€  â†  â†‚  â†‡  â†ˆ  â…°  â…±  â…²  Í¾  Â¿  ØŸ  Õ  Ü†  á§  â³º  â³»  ê˜  ê›·  ğ‘…ƒ  ê«±  !  Â¡  ß¹  á¥„                                 â”‚
	â”‚â…³  â…´  â…µ  â…¶  â…·  â…¸  â…¹  â…º  Â·  ğŸ  ğ  ğ’‘°  á¡  áš€  ğ¤Ÿ  à °  â€”  â€“  â€’  â€  âƒ  ÖŠ  á †  ;  Î‡                              â”‚
	â”‚â…»  â…¼  â…½  â…¾  â…¿    â†…  â††  â†ƒ  Ø›  á¤  ê›¶  â€¤  :  á¥  ê›´  á­  â€¦  àº¯  Â«  â€¹  Â»  â€º  â€  â€š  â€œ                            â”‚
	â”‚â†  â†‘  â†’  â†“  â†”  â†•  â†–  â†—  â†˜  â†™  â–²  â–¼  â—€  â–¶  â”  â˜  â™  âš  â›  âœ  â  â  âŸ  â   â¡  â¢  â£  â¤  â¥  â¦  â†ª  â†©         â”‚
	â”‚â†š  â†›  â†œ  â†  â†  â†Ÿ  â†   â†¡  â†¢  â†£  â†¤  â†¦  â†¥  â†§  â†¨  â†«  â†¬  â†­  â†®  â†¯  â†°  â†±  â†²  â†´  â†³  â†µ  â†¶  â†·  â†¸  â†¹  â†º  â†»         â”‚
	â”‚âŸ²  âŸ³  â†¼  â†½  â†¾  â†¿  â‡€  â‡  â‡‚  â‡ƒ  â‡„  â‡…  â‡†  â‡‡  â‡  â‡‘  â‡’  â‡“  â‡”  â‡Œ  â‡  â‡  â‡•  â‡–  â‡—  â‡˜  â‡™  â‡™  â‡³  â‡š  â‡›  â‡œ         â”‚
	â”‚â‡  â‡  â‡Ÿ  â‡Ÿ  â‡Ÿ  â‡   â‡¡  â‡¢  â‡£  â‡¤  â‡¥  â‡¦  â‡¨  â‡©  â‡ª  â‡§  â‡«  â‡¬  â‡­  â‡®  â‡¯  â‡°  â‡±  â‡²  â‡´  â‡µ  â‡¶  â‡·  â‡¸  â‡¹  â‡º  â‡º         â”‚
	â”‚â‡»  â‡¼  â‡½  â‡¾  â‡¿  âŸ°  âŸ±  âŸ´  âŸµ  âŸ¶  âŸ·  âŸ¸  âŸ¹  âŸ½  âŸ¾  âŸº  âŸ»  âŸ¼  âŸ¿  â¤€  â¤  â¤…  â¤‚  â¤ƒ  â¤„  â¤†  â¤‡  â¤ˆ  â¤‰  â¤Š  â¤‹  â¤Œ         â”‚
	â”‚â¤  â¤  â¤  â¤  â¤‘  â¤’  â¤“  â¤”  â¤•  â¤–  â¤—  â¤˜  â¤™  â¤™  â¤š  â¤›  â¤œ  â¤  â¤  â¤¡  â¤¢  â¤£  â¤¤  â¤¥  â¤¦  â¤§  â¤¨  â¤©  â¤ª  â¤­  â¤®  â¤¯         â”‚
	â”‚â¤°  â¤±  â¤²  â¤³  â¤»  â¤¸  â¤¾  â¤¿  â¤º  â¤¼  â¤½  â¤´  â¤µ  â¤¶  â¤·  â¤¹  â¥€  â¥  â¥‚  â¥ƒ  â¥„  â¥…  â¥†  â¥‡  â¥ˆ  â¥‰  â¥’  â¥“  â¥”  â¥•  â¥–  â¥—         â”‚
	â”‚â¥˜  â¥™  â¥š  â¥›  â¥œ  â¥  â¥  â¥Ÿ  â¥   â¥¡  â¥¢  â¥£  â¥¤  â¥¥  â¥¦  â¥§  â¥¨  â¥©  â¥ª  â¥«  â¥¬  â¥­  â¥®  â¥¯  â¥°  â¥±  â¥²  â¥³  â¥´  â¥µ  â¥¶  â¥·         â”‚
	â”‚â¥¸  â¥¹  â¥º  â¥»  â§  â¨  â©  âª  â«  â¬  â­  â®  â¯  â±  â²  â³  â´  âµ  â¶  â·  â¸  â¹  âº  â»  â¼  â½  â¾  â¬…  â¬†  â¬‡  â  â¬         â”‚
	â”‚â¬  â¬  â¬‘  â˜ˆ  â˜‡  âƒ  â„  â‡  âˆ  â  â—  âŒ  â“  â  â”  â  â–  â…  â†  â¬ˆ  â¬‰  â¬Š  â¬‹  â¬Œ  â¬  â¬€  â¬  â¬‚  â¬ƒ  â¬„               â”‚
	â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
	EOF
}

boxelm() {
	cat <<-EOF
	â”€  â”  â”‚  â”ƒ  â”„  â”…  â”†  â”‡  â”ˆ  â”‰  â”Š  â”‹  â”Œ  â”  â”  â”

	â”  â”‘  â”’  â”“  â””  â”•  â”–  â”—  â”˜  â”™  â”š  â”›  â”œ  â”  â”  â”Ÿ

	â”   â”¡  â”¢  â”£  â”¤  â”¥  â”¦  â”§  â”¨  â”©  â”ª  â”«  â”¬  â”­  â”®  â”¯

	â”°  â”±  â”²  â”³  â”´  â”µ  â”¶  â”·  â”¸  â”¹  â”º  â”»  â”¼  â”½  â”¾  â”¿

	â•€  â•  â•‚  â•ƒ  â•„  â•…  â•†  â•‡  â•ˆ  â•‰  â•Š  â•‹  â•Œ  â•  â•  â•

	â•  â•‘  â•’  â•“  â•”  â••  â•–  â•—  â•˜  â•™  â•š  â•›  â•œ  â•  â•  â•Ÿ

	â•   â•¡  â•¢  â•£  â•¤  â•¥  â•¦  â•§  â•¨  â•©  â•ª  â•«  â•¬  â•­  â•®  â•¯

	â•°  â•±  â•²  â•³  â•´  â•µ  â•¶  â•·  â•¸  â•¹  â•º  â•»  â•¼  â•½  â•¾  â•¿

	â–€  â–  â–‚  â–ƒ  â–„  â–…  â–†  â–‡  â–ˆ  â–‰  â–Š  â–‹  â–Œ  â–  â–  â–

	â–  â–‘  â–’  â–“  â–”  â–•  â––  â–—  â–˜  â–™  â–š  â–›  â–œ  â–  â–  â–Ÿ


	â”Œâ”€â”¬â”  â•”â•â•¦â•—  â•“â”€â•¥â•–  â•’â•â•¤â••
	â”‚ â”‚â”‚  â•‘ â•‘â•‘  â•‘ â•‘â•‘  â”‚ â”‚â”‚
	â”œâ”€â”¼â”¤  â• â•â•¬â•£  â•Ÿâ”€â•«â•¢  â•â•â•ªâ•¡
	â””â”€â”´â”˜  â•šâ•â•©â•  â•™â”€â•¨â•œ  â•˜â•â•§â•›
	â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
	â”‚  â•”â•â•â•â•— Some Text  â”‚â–’
	â”‚  â•šâ•â•¦â•â• in the box â”‚â–’
	â•â•â•¤â•â•â•©â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•¡â–’
	â”‚ â”œâ”€â”€â”¬â”€â”€â”¤           â”‚â–’
	â”‚ â””â”€â”€â”´â”€â”€â”˜           â”‚â–’
	â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â–’
	 â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’
	EOF
}
tm() { [[ -z $TMUX ]] && tmux new -A -s "${SYM_HEART}"; }

fontlist() { 
	fc-list | awk '{$1=""}1' | cut -d: -f1 | sort| uniq
}
